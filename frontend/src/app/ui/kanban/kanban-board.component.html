<div class="min-h-screen bg-gray-50 p-6">
  <!-- Header -->
  <div class="mb-6 flex items-center justify-between">
    <h1 class="text-2xl font-bold text-gray-800">Task Board</h1>
    <button 
      (click)="openCreateForm()"
      class="rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 transition-colors"
    >
      + New Task
    </button>
  </div>

  <!-- Kanban Columns -->
  <div class="grid grid-cols-3 gap-4">
    @for (column of columns; track column) {
      <div class="rounded-lg bg-gray-100 p-4">
        <!-- Column Header -->
        <div class="mb-4 flex items-center justify-between">
          <h2 class="font-semibold text-gray-700">{{ getColumnTitle(column) }}</h2>
          <span class="rounded-full bg-white px-2 py-1 text-sm text-gray-600">
            {{ tasksByStatus()[column].length }}
          </span>
        </div>

        <!-- Task List -->
        <div class="flex flex-col gap-3">
          @for (task of tasksByStatus()[column]; track task.id) {
            <app-task-card 
              [task]="task"
              (edit)="openEditForm($event)"
              (delete)="onTaskDeleted()"
              (statusChange)="onStatusChange($event.task, $event.status)"
            />
          } @empty {
            <p class="text-center text-gray-400 py-4">No tasks</p>
          }
        </div>
      </div>
    }
  </div>

  <!-- Modal Form -->
  @if (showForm()) {
    <app-task-form
      [task]="editingTask()"
      (close)="closeForm()"
      (saved)="onTaskSaved()"
    />
  }
</div>